# Power Outage Telegram Bot

בוט טלגרם המנטר את מצב החשמל של השרת ומתריע כאשר המחשב עובר לעבוד על סוללה.
המדידה מתבצעת בכתובת ספציפית ברחוב [הכנס את הכתובת כאן], ולא משקפת את מצב החשמל בכל העיר.

הפרויקט נוצר במקור עבור ניטור הפסקות חשמל במעלה אדומים, אך ניתן להשתמש בו בכל מקום בעולם בתנאי שעומדים בדרישות המערכת.

## דרישות מערכת

1. מחשב נייד עם סוללה תקינה שמחובר לחשמל
   - הבוט משתמש בסוללה של המחשב הנייד כדי לזהות מעבר בין מצב חשמל למצב סוללה
   - חשוב שהמחשב יהיה מחובר לחשמל באופן קבוע
   - הערה: לא ניתן להשתמש במחשב נייח עם UPS כי המערכת לא יכולה לזהות מעבר לUPS

2. ראוטר מחובר לאל-פסק (UPS) או סוללת גיבוי
   - נדרש כדי לשמור על חיבור אינטרנט פעיל בזמן הפסקת חשמל
   - ללא גיבוי לראוטר, הבוט לא יוכל לשלוח התראות בזמן הפסקת חשמל

## התקנה

1. צור והפעל סביבה וירטואלית:
```bash
# יצירת הסביבה
python -m venv venv

# הפעלת הסביבה - Windows
venv\Scripts\activate

# הפעלת הסביבה - Linux/Mac
source venv/bin/activate
```

2. התקן את החבילות הנדרשות:
```bash
pip install -r requirements.txt
```

3. צור קובץ `.env` והוסף את הפרטים הבאים:
```
TELEGRAM_BOT_TOKEN=your_bot_token_here
```

4. השג טוקן לבוט טלגרם מ-[@BotFather](https://t.me/botfather)

## הפעלה

הרץ את הבוט (וודא שהסביבה הוירטואלית פעילה):
```bash
python bot.py
```

## שימוש

1. התחל שיחה עם הבוט בטלגרם
2. שלח את הפקודה `/start` כדי להירשם להתראות
3. הבוט ישלח התראה בזמן אמת בכל פעם שהשרת עובר ממצב חשמל למצב סוללה ולהפך

### פקודות זמינות
- `/start` - הרשמה לקבלת התראות
- `/stop` - ביטול הרשמה להתראות
- `/help` - הצגת עזרה ומידע על הבוט

## תכונות

- מעקב אחר מצב החשמל של השרת
- התראות בזמן אמת על שינויי מצב
- תמיכה במספר משתמשים
- שמירת רשימת המשתמשים הרשומים
- בדיקת מצב החשמל כל 2 שניות
- לוגים מפורטים לניטור פעילות הבוט 